<div class="monPanier" id="monPanier">
  <div class="top">
    <i onclick="close_panier()" style="font-size: 3rem; " class='bx bx-right-arrow-alt'></i>
    <h3>Mon panier </h3>
  </div>
  <div class="center">

    <div class="panier-vide shadow-sm" onclick="accueil()">
      <h4>Votre panier est vide üõí</h4> <br>
      <p style="font-size: 0.7rem;">En manque d'inspiration ?</p>
      <button>Voir les meilleures offres</button>
    </div>


  </div>
  <div class="panier-footer">
    <div class="footer-top">
      <span><strong>Total</strong></span> <span>Nombre</span>
    </div>
    <button type="button" onclick="commander()">Commander</button>
  </div>
</div>


<!-- Ajoutez ce script √† la fin de votre fichier HTML ou √† l'endroit appropri√© -->
<script>
  function removeFromCart(productId) {
    // R√©cup√©rer le panier depuis le localStorage
    const cart = JSON.parse(localStorage.getItem('lafyshop')) || [];

    // Filtrer les produits pour exclure celui avec l'ID sp√©cifi√©
    const updatedCart = cart.filter(product => product.Id !== productId);

    // Mettre √† jour le localStorage avec le nouveau panier
    localStorage.setItem('lafyshop', JSON.stringify(updatedCart));
   
    // Appeler la fonction pour mettre √† jour le panier
    updateCart();
  }




  // Fonction pour mettre √† jour le contenu du panier
  function updateCart() {
    // R√©cup√©rer l'√©l√©ment du panier
    const panierElement = document.getElementById('monPanier');

    // R√©cup√©rer le panier depuis le localStorage
    const cart = JSON.parse(localStorage.getItem('lafyshop')) || [];


    // S√©lectionner l'√©l√©ment o√π vous souhaitez afficher les produits du panier
    const centerElement = panierElement.querySelector('.center');
    const footerTopElement = panierElement.querySelector('.footer-top');

    // Si le panier est vide, afficher un message appropri√©
    if (cart.length === 0) {
      centerElement.innerHTML = `
                      <div class="panier-vide shadow-sm" onclick="accueil()">
                          <h4>Votre panier est vide üõí</h4> <br>
                          <p style="font-size: 0.7rem;">En manque d'inspiration ?</p>
                          <button>Voir les meilleures offres</button>
                      </div>
                  `;
      footerTopElement.innerHTML = '';

      localStorage.setItem('point_rouge', 'off');

    // R√©cup√©rez la valeur de la cl√© point_rouge du localStorage
    const pointRougeValue = localStorage.getItem('point_rouge');

    // R√©cup√©rez l'√©l√©ment point-rouge
    const pointRouge = document.querySelector('.point-rouge');

    // V√©rifiez la valeur et d√©finissez le style en cons√©quence
    if (pointRougeValue === 'on') {
      pointRouge.style.display = 'block';

    } else {
      pointRouge.style.display = 'none';
    }
    } else {
      // Si le panier n'est pas vide, construire le HTML pour chaque produit
      const cartHTML = cart.map(product => `
  
                  <div class="produit-panier" style=" padding: 10px; display: flex; border: 1px solid rgba(128, 128, 128, 0.173); margin: 10px;">
              <div class="img-box" style="width: 40%; ">
                  <img src="${product.url}" alt="${product.name}" width="70">
              </div>
              <div class="details-box" style="width: 60%;">
                  <p><strong>${product.name}</strong></p> 
                  <p>${product.info}</p> 
                  <i style="color: rgb(7, 192, 7);" class='bx bx-check-circle' ></i> <span>en stock</span>
                  <p>Quantite : ${product.quantity}</p>
                  <div style="display: flex; align-items: center; justify-content: space-between;">
                      <p style="color: rgb(159, 9, 9);"><strong>${product.price} CFA</strong></p>
                      <i style="font-size: 1.3rem;" class='bx bx-trash' onclick="removeFromCart('${product.Id}')" ></i>
                  </div>
              </div>
          </div>
  
                  `).join('');

      // Injecter le HTML dans l'√©l√©ment du panier
      centerElement.innerHTML = cartHTML;

      // Mettre √† jour le total et le nombre de produits
      const total = cart.reduce((acc, product) => acc + parseFloat(product.price) * parseInt(product.quantity), 0);
      const totalQuantity = cart.reduce((acc, product) => acc + parseInt(product.quantity), 0);
      footerTopElement.innerHTML = `<span><strong>Total: ${total.toFixed(2)} 0CFA</strong></span> <span>Nombre: ${totalQuantity}</span>`;

    }

    // Mettre √† jour d'autres √©l√©ments du panier (total, nombre de produits, etc.) si n√©cessaire
    // ...

    // Vous pouvez √©galement ajouter des √©v√©nements ou des fonctionnalit√©s suppl√©mentaires ici
  }

  document.addEventListener('DOMContentLoaded', function() {

  });
</script>